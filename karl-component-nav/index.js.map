{"version":3,"sources":["index.jsx"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["let React = require(\"react\");\r\nlet css = require(\"./index.css\");\r\nrequire(\"font-awesome-webpack\");\r\nlet $ = require(\"jquery\");\r\n\r\n/**\r\n * data an array,element like {text:\"a\",child:[\"a1\",\"a2\"]}\r\n */\r\nclass nav extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n            content: [],\r\n            activeNav: \"\",\r\n            height: 300\r\n        };\r\n        let bindArr = [];\r\n        bindArr.forEach(d => {\r\n            this[d] = this[d].bind(this);\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        let marginTop = $(this.base).offset().top;\r\n        let height = $(window).height() - marginTop;\r\n        $(this.base).css({height: height});\r\n\r\n        let activeNav = \"\";\r\n        let data = this.props.data;\r\n        if (data[0].hasOwnProperty(\"child\")) {\r\n            activeNav = data[0].child[0];\r\n        } else {\r\n            activeNav = data[0].text;\r\n        }\r\n\r\n        let hash = window.location.hash.replace(/#/g, \"\");\r\n        if (hash != \"\") {\r\n            let isFind = false;\r\n            data.forEach(d => {\r\n                if (d.hasOwnProperty(\"child\")) {\r\n                    if (d.child.includes(hash)) {\r\n                        isFind = true;\r\n                    }\r\n                } else {\r\n                    if (hash == d.text) {\r\n                        isFind = true;\r\n                    }\r\n                }\r\n            });\r\n            if (isFind) {\r\n                activeNav = hash;\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            data: data,\r\n            activeNav: activeNav,\r\n            content: this.props.children,\r\n            height: this.props.height ? this.props.height : 300\r\n        });\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.props.children != nextProps.children) {\r\n            this.setState({\r\n                content: nextProps.children\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={css.base + \" react-nav\"} ref={d => {\r\n                this.base = d;\r\n            }}>\r\n                <div className={css.menu}>\r\n                    {\r\n                        this.setMenu()\r\n                    }\r\n                </div>\r\n                <div className={css.content}>\r\n                    {\r\n                        this.setContent()\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    setMenu() {\r\n        return this.state.data.map((d, i) => {\r\n            let li = \"\";\r\n            if (d.hasOwnProperty(\"child\")) {\r\n                li = <div key={i}>\r\n                    <div className={css.li} onClick={() => {\r\n                        let isShow = this.state[\"li\" + i + \"show\"];\r\n                        let json = {};\r\n                        json[\"li\" + i + \"show\"] = !isShow;\r\n                        this.setState(json);\r\n                    }}>\r\n                        <i className={this.state[\"li\" + i + \"show\"] ? \"fa fa-caret-down\" : \"fa fa-caret-right\"}></i>\r\n                        {d.text}\r\n                    </div>\r\n                    <div style={this.state[\"li\" + i + \"show\"] ? {} : {\"display\": \"none\"}}>\r\n                        {\r\n                            d.child.map((d1, j) => {\r\n                                let active = (d1 == this.state.activeNav) ? css.active : \"\";\r\n                                let li2 = <div key={j} className={css.li + \" \" + css.li2 + \" \" + active}\r\n                                               onClick={() => {\r\n                                                   this.setState({activeNav: d1});\r\n                                               }}>\r\n                                    {d1}\r\n                                </div>;\r\n                                return li2;\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>;\r\n            } else {\r\n                let active = (d.text == this.state.activeNav) ? css.active : \"\";\r\n                li = <div key={i} className={css.li + \" \" + active} onClick={() => {\r\n                    this.setState({activeNav: d.text});\r\n                }}>{d.text}</div>;\r\n            }\r\n            return li;\r\n        });\r\n    }\r\n\r\n    setContent() {\r\n        let firstIndex = -1, secondIndex = -1;\r\n        this.state.data.forEach((d, i) => {\r\n            if (d.hasOwnProperty(\"child\")) {\r\n                d.child.map((d1, j) => {\r\n                    if (d1 == this.state.activeNav) {\r\n                        firstIndex = i;\r\n                        secondIndex = j;\r\n                    }\r\n                });\r\n            } else {\r\n                if (d.text == this.state.activeNav) {\r\n                    firstIndex = i;\r\n                }\r\n            }\r\n        });\r\n        let activeContent = \"\";\r\n        if (firstIndex >= 0) {\r\n            activeContent = this.state.content[firstIndex];\r\n            if (secondIndex >= 0) {\r\n                activeContent = activeContent.props.children[secondIndex];\r\n            }\r\n        }\r\n        return activeContent;\r\n\r\n    }\r\n\r\n}\r\n\r\nmodule.exports = nav;"]}